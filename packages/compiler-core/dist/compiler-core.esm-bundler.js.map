{"version":3,"file":"compiler-core.esm-bundler.js","sources":["../src/utils.js","../src/element.js","../src/interpolation.js","../src/text.js","../src/parse.js"],"sourcesContent":["function advanceBy (context, len) {\n  context.source = context.source.slice(len)\n}\n\nexport { advanceBy }","import { advanceBy } from './utils.js'\nimport { parseChildren } from './parse.js'\n\nfunction parseElement (context) {\n  const match = /^<([a-z]*)/i.exec(context.source)\n  advanceBy(context, match[0].length)\n  let firstRightAngleBracket = context.source.indexOf('>')\n  const propsArr = context.source.slice(0, firstRightAngleBracket).trim().split(' ')\n  let props = {}\n  propsArr.forEach(prop => {\n    if (prop.length > 0) {\n      const length = prop.length\n      let equal_pos = prop.indexOf('=')\n      let key = prop.slice(0, equal_pos)\n      let value = prop.slice(equal_pos + 2, length - 1)\n      props[key] = value\n    }\n  })\n  advanceBy(context, firstRightAngleBracket + 1)\n  const children = parseChildren(context)\n  firstRightAngleBracket = context.source.indexOf('>')\n  advanceBy(context, firstRightAngleBracket + 1)\n  return {\n    type: 'element',\n    tag: match[1],\n    props: props,\n    children\n  }\n}\n\nexport {\n  parseElement\n}","import { advanceBy } from './utils.js'\n\nfunction parseInterpolation (context) {\n  const closeIndex = context.source.indexOf('}}')\n  const text = context.source.slice(2, closeIndex).trim()\n  advanceBy(context, closeIndex + 2)\n\n  return {\n    type: 'interpolation',\n    content: {\n      type: 'simple_expression',\n      content: text\n    }\n  }\n}\n\nexport {\n  parseInterpolation,\n}","import { advanceBy } from './utils.js'\n\nfunction parseText (context) {\n  let contextEnd\n  const firstDoubleCurly = context.source.indexOf('{{')\n  const firstAngleBracket = context.source.indexOf('<')\n  if (firstDoubleCurly == -1) {\n    contextEnd = firstAngleBracket\n  } else {\n    contextEnd = firstDoubleCurly < firstAngleBracket ? firstDoubleCurly : firstAngleBracket\n  }\n  const content = context.source.slice(0, contextEnd)\n  advanceBy(context, contextEnd)\n  return {\n    type: 'text',\n    content,\n  }\n}\n\n// console.log(parseText({ source: '1234</div>' }))\nexport {\n  parseText\n}","import { parseElement } from './element.js'\nimport { parseInterpolation } from './interpolation.js'\nimport { parseText } from './text.js'\n\nfunction createParserContext (content) {\n  return {\n    source: content,\n  }\n}\n\nfunction parseChildren (context) {\n  const nodes = []\n  while (!isEnd(context)) {\n    let node\n    if (context.source.startsWith('{{')) {\n      node = parseInterpolation(context)\n    } else if (context.source.startsWith('<')) {\n      node = parseElement(context)\n    } else {\n      node = parseText(context)\n    }\n    nodes.push(node)\n  }\n  return nodes\n}\n\nfunction isEnd (context) {\n  if (context.source.startsWith('</') || context.source === '') {\n    return true\n  } else {\n    return false\n  }\n}\n\nfunction baseParse (content) {\n  const context = createParserContext(content)\n  return createRoot(parseChildren(context))\n\n  function createRoot (children) {\n    return {\n      children\n    }\n  }\n}\n\nexport {\n  baseParse,\n  parseChildren\n}\n\n"],"names":[],"mappings":"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"}