{"version":3,"file":"compiler-core.global.js","sources":["../src/utils.js","../src/element.js","../src/interpolation.js","../src/text.js","../src/parse.js"],"sourcesContent":["function advanceBy (context, len) {\n  context.source = context.source.slice(len)\n}\n\nexport { advanceBy }","import { advanceBy } from './utils.js'\nimport { parseChildren } from './parse.js'\n\nfunction parseElement (context) {\n  const match = /^<([a-z]*)/i.exec(context.source)\n  advanceBy(context, match[0].length)\n  let firstRightAngleBracket = context.source.indexOf('>')\n  const propsArr = context.source.slice(0, firstRightAngleBracket).trim().split(' ')\n  let props = {}\n  propsArr.forEach(prop => {\n    if (prop.length > 0) {\n      const length = prop.length\n      let equal_pos = prop.indexOf('=')\n      let key = prop.slice(0, equal_pos)\n      let value = prop.slice(equal_pos + 2, length - 1)\n      props[key] = value\n    }\n  })\n  advanceBy(context, firstRightAngleBracket + 1)\n  const children = parseChildren(context)\n  firstRightAngleBracket = context.source.indexOf('>')\n  advanceBy(context, firstRightAngleBracket + 1)\n  return {\n    type: 'element',\n    tag: match[1],\n    props: props,\n    children\n  }\n}\n\nexport {\n  parseElement\n}","import { advanceBy } from './utils.js'\n\nfunction parseInterpolation (context) {\n  const closeIndex = context.source.indexOf('}}')\n  const text = context.source.slice(2, closeIndex).trim()\n  advanceBy(context, closeIndex + 2)\n\n  return {\n    type: 'interpolation',\n    content: {\n      type: 'simple_expression',\n      content: text\n    }\n  }\n}\n\nexport {\n  parseInterpolation,\n}","import { advanceBy } from './utils.js'\n\nfunction parseText (context) {\n  let contextEnd\n  const firstDoubleCurly = context.source.indexOf('{{')\n  const firstAngleBracket = context.source.indexOf('<')\n  if (firstDoubleCurly == -1) {\n    contextEnd = firstAngleBracket\n  } else {\n    contextEnd = firstDoubleCurly < firstAngleBracket ? firstDoubleCurly : firstAngleBracket\n  }\n  const content = context.source.slice(0, contextEnd)\n  advanceBy(context, contextEnd)\n  return {\n    type: 'text',\n    content,\n  }\n}\n\n// console.log(parseText({ source: '1234</div>' }))\nexport {\n  parseText\n}","import { parseElement } from './element.js'\nimport { parseInterpolation } from './interpolation.js'\nimport { parseText } from './text.js'\n\nfunction createParserContext (content) {\n  return {\n    source: content,\n  }\n}\n\nfunction parseChildren (context) {\n  const nodes = []\n  while (!isEnd(context)) {\n    let node\n    if (context.source.startsWith('{{')) {\n      node = parseInterpolation(context)\n    } else if (context.source.startsWith('<')) {\n      node = parseElement(context)\n    } else {\n      node = parseText(context)\n    }\n    nodes.push(node)\n  }\n  return nodes\n}\n\nfunction isEnd (context) {\n  if (context.source.startsWith('</') || context.source === '') {\n    return true\n  } else {\n    return false\n  }\n}\n\nfunction baseParse (content) {\n  const context = createParserContext(content)\n  return createRoot(parseChildren(context))\n\n  function createRoot (children) {\n    return {\n      children\n    }\n  }\n}\n\nexport {\n  baseParse,\n  parseChildren\n}\n\n"],"names":[],"mappings":"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"}