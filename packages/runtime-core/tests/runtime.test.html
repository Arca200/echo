<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<style>
    .color-red {
        color: #ff8e8e
    }

    .color-blue {
        color: #1b007a;
        width: 55px;
        height: 30px;
        border-radius: 8px;
        text-align: center;
        line-height: 30px;
        border: 1px solid black;
        cursor: pointer;
        user-select: none;
    }
</style>
<body>
<div id="container"></div>
<script src="../dist/runtime-core.global.js"></script>
<script>

  const { createApp, h, renderSlots, createTextVNode, getCurrentInstance } = EchoRuntime
  // createApp({
  //   render () {
  //     return h('div',
  //       {},
  //       [h(
  //         {
  //           render () {
  //             return h('h1', { class: 'color-blue' }, this.content + ' : ' + this.title)
  //           },
  //           setup (props) {
  //             return {
  //               content: 'this is innerSetup'
  //             }
  //           }
  //         },
  //         { title: 'today news' },
  //         ''
  //       )])
  //   },
  //   setup () {
  //     return {
  //       msg: 'world'
  //     }
  //   }
  // }).mount('#container')
  createApp({
    render () {
      return h(
        {
          render () {
            return h('div',
              {},
              [
                renderSlots(this.$slots, 'header', {
                  name: '作用域插槽'
                }),
                createTextVNode('this is TextVnode'),
                h('div',
                  {
                    id: 'outer',
                    onClick: () => {
                      this.showEmit()
                    },
                    class: 'color-blue'
                  },
                  this.elementType
                ),
                renderSlots(this.$slots, 'footer')
              ]
            )
          },
          setup (props, { emit }) {
            console.log(getCurrentInstance())
            return {
              showEmit: () => {
                emit('onAdd')
              }
            }
          }
        },
        {
          elementType: 'Button',
          onAdd: () => {
            console.log('this is emit onAdd')
          }
        },
        {
          header: (props) => h('div', {}, 'header' + props.name),
          footer: h('div', {}, 'footer')
        }
      )
    },
    setup () {
      return {
        msg: 'world'
      }
    }
  }).mount('#container')
</script>
</body>
</html>